<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Chi tiết sản phẩm</title>
    <link rel="icon" type="image/x-icon" href="image/Logo_vertical.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/ProductDetail.css">
    <link rel="stylesheet" href="css/header_footer.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
</head>
<body>
    <!-- header section starts  -->

    <header class="header">

        <div class="header-1">

            <a href="homepage.html" class="logo"> <img src="Image/logo.png" alt="logo"> </a>

            <div class="wrapper">
                <div class="search-input">
                    <a href="" target="_blank" hidden></a>
                    <input type="search" placeholder="Tìm kiếm sản phẩm...">
                    <div class="autocom-box">
                        <!-- here list are inserted from javascript -->
                    </div>
                    <div class="icon"><a href="shop.html"><i class="fas fa-search"></i></a></div>

                </div>
            </div>

            <div class="icons">
                <div id="search-btn" class="fas fa-search"></div>
                <a id="cart-btn" class="fas fa-shopping-cart" href="shoppingcart.html"></a>
                <div id="login-btn" class="fas fa-user"></div>
            </div>

        </div>

        <div class="header-2">
            <nav class="navbar">
                <ul id="menu">
                    <li id="item"><a id="menu_lv1" href="homepage.html">Trang chủ</a></li>
                    <li id="item">
                        <a id="menu_lv1" href="shop.html">Sản phẩm</a>
                        <ul class="subnav">
                            <li><a href="shop_kynang.html">Kỹ năng sống</a></li>
                            <li><a href="shop_vanhoc.html">Văn học</a></li>
                            <li><a href="shop_kinhte.html">Kinh tế</a></li>
                            <li><a href="shop_xahoi.html">Xã hội</a></li>
                            <li><a href="shop_khoahoc.html">Khoa học</a></li>
                        </ul>
                    </li>
                    <li id="item"><a id="menu_lv1" href="about.html">Giới thiệu</a></li>
                    <li id="item"><a id="menu_lv1" href="blog.html">Blog</a></li>
                    <li id="item"><a id="menu_lv1" href="contact.html">Liên hệ</a></li>
                </ul>
            </nav>
        </div>

    </header>

    <!-- header section ends -->
    <!-- login form  -->

    <div class="login-form-container">

        <div id="close-login-btn" class="fas fa-times"></div>

        <form action="">
            <h3>ĐĂNG NHẬP</h3>
            <label>Tên tài khoản</label>
            <input type="text" name="" class="box" placeholder="Nhập email hoặc số điện thoại" id="">
            <label>Mật khẩu</label>
            <input type="password" name="" class="box" placeholder="Nhập mật khẩu" id="">
            <div class="checkbox">
                <input type="checkbox" name="" id="remember-me">
                <label for="remember-me"> Lưu thông tin</label>
            </div>
            <div>
                <input type="submit" value="Đăng nhập" class="btn">
            </div>

            <p>Quên mật khẩu? <a href="#">Tại đây</a></p>
            <p>Chưa có tài khoản? <a href="register.html">Tạo mới</a></p>
        </form>

    </div>
    <div class="heading">
        <h1>Giỏ hàng</h1>
        <p> <a href="homepage.html">Trang chủ >></a>Giỏ hàng</p>
    </div>

    <div class="card-wrapper">
        <div class="card" id="chitietkh">

        </div>
    </div>

    <section class="description">

        <div class="row">

            <form action="">
                <h3>Thông tin chi tiết</h3>
                <hr />
                <div class="inputBox">
                    <div class="content">
                        <p><strong> Công ty phát hành:</strong></p>
                        <p><strong> Ngày xuất bản:</strong></p>
                        <p><strong> Nhà xuất bản:</strong></p>
                    </div>
                    <div class="content">
                        <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Skynovel</p>
                        <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2019-03-19 00:00:00</p>
                        <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nhà Xuất Bản Phụ Nữ</p>
                    </div>
                </div>

            </form>


        </div>

    </section>


    <script>
        const imgs = document.querySelectorAll('.img-select a');
        const imgBtns = [...imgs];
        let imgId = 1;

        imgBtns.forEach((imgItem) => {
            imgItem.addEventListener('click', (event) => {
                event.preventDefault();
                imgId = imgItem.dataset.id;
                slideImage();
            });
        });

        function slideImage() {
            const displayWidth = document.querySelector('.img-showcase img:first-child').clientWidth;

            document.querySelector('.img-showcase').style.transform = `translateX(${- (imgId - 1) * displayWidth}px)`;
        }

        window.addEventListener('resize', slideImage);
    </script>

    <section class="products">

        <h1 class="title">  Sản phẩm liên quan</h1>
        <div class="box-container" id="listsp"></div>
    </section>
    <!-- bottom navbar  -->

    <nav class="bottom-navbar">
        <a href="#home" class="fas fa-home"></a>
        <a href="#featured" class="fas fa-list"></a>
        <a href="#arrivals" class="fas fa-tags"></a>
        <a href="#reviews" class="fas fa-comments"></a>
        <a href="#blogs" class="fas fa-blog"></a>
    </nav>

    <!-- footer section starts  -->

    <section class="footer">

        <div class="box-container">

            <div class="box">
                <p><img src="image/logo.png" width="70%" height="70%"></p>
                <p style="line-height:2.5rem;">
                    Số 669 Quốc lộ 1, Khu phố 3, Phường Linh Xuân, Thủ Đức, TP. Hồ Chí Minh.<br>
                    HNTbookshop.com nhận đặt hàng trực tuyến và giao hàng tận nơi. KHÔNG hỗ trợ đặt mua và nhận hàng trực tiếp tại văn phòng cũng như tất cả Hệ Thống HNTbookshop trên toàn quốc.
                </p>
                <img class="certificate" src="https://www.fahasa.com/media/wysiwyg/Logo-NCC/logo-bo-cong-thuong-da-thong-bao.png"></img>


            </div>

            <div class="box">
                <h3>DỊCH VỤ</h3>
                <a href="DieuKhoanSuDung.html"> <i class="fas fa-angle-right"></i> Điều khoản sử dụng </a>
                <a href="ChinhSachBaoMat.html"> <i class="fas fa-angle-right"></i> Chính sách bảo mật </a>
                <a href="about.html"> <i class="fas fa-angle-right"></i> Giới thiệu về HNT Bookshop </a>
            </div>

            <div class="box">
                <h3>HỖ TRỢ</h3>
                <a href="Chinhsachdoitra.html"> <i class="fas fa-angle-right"></i> Chính sách đổi - trả - hoàn tiền </a>
                <a href="ChinhSachKhachSi.html"> <i class="fas fa-angle-right"></i> Chính sách khách sỉ </a>
                <a href="PhuongThucVanChuyen.html"> <i class="fas fa-angle-right"></i> Phương thức vận chuyển </a>
                <a href="PhuongThucVanChuyen.html"> <i class="fas fa-angle-right"></i> Phương thức thanh toán và xuất HĐ </a>
            </div>

            <div class="box">
                <h3>LIÊN HỆ</h3>
                <a href="#"> <i style="padding-right:.5rem" class="fas fa-angle-right"></i> (028) 37266 888 </a>
                <a href="#"> <i style="padding-right:.5rem" class="fas fa-angle-right"></i> hntbookshop@gmail.com </a>
                <a href="contact.html"><img src="image/worldmap.png" class="map" alt=""></a>
            </div>

        </div>

        <div class="share">
            <a href="#" class="fab fa-facebook-f"></a>
            <a href="#" class="fab fa-twitter"></a>
            <a href="#" class="fab fa-instagram"></a>
            <a href="#" class="fab fa-linkedin"></a>
            <a href="#" class="fab fa-pinterest"></a>
        </div>
    </section>

    <!-- footer section ends -->
    <script src="js/script.js"></script>

    <script src="js/suggestions.js"></script>
    <script src="js/homepageScript.js"></script>
    <script>
        function addShoppingCart() {
            alert("Sản phẩm đã được thêm vào Giỏ hàng");
        }
        function registerEmail() {
            alert("Cảm ơn bạn đã đăng ký!")
        }
    </script>
    <!-- -hiển thị sản phẩm liên quan -->
    <script>
        var url = "https://thuongnthstudent.github.io/htnbookshop-fr-project/database-htnbookshop/khoahoc.json";
        fetch(url).then(data => data.json())
            .then(products => {
                products.forEach(sp => {
                    document.querySelector('#listsp').innerHTML += `
                                               <div class="box" >
                                                <div class="icons">
                                                    <a  class="fas fa-shopping-cart" onclick="addtoCart(${sp.id},'${sp.name}',${sp.price},'${sp.image}')"></a>
                                                    <a href="ChiTietSanPham_khoahoc.html?id=${sp.id}" class="fas fa-eye"  onclick="chitiet(${sp.id},'${sp.name}',${sp.price},'${sp.image}')"></a>
                                                </div>
                                                <div class="image">
                                                    <img src="${sp.image}" />
                                                </div>
                                                <div class="content">
                                                    <h3>${sp.name}</h3>
                                                    <div class="price">$${sp.price}</div>
                                                    <div class="stars">
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                    </div>
                                                </div>
                                            </div>
                                               `
                })
            })
    </script>
    <script>
        //thêm vào giỏ hàng
        function addtoCart(id, ten, gia, hinh) {
            alert("Sản phẩm đã được thêm vào Giỏ hàng");
            var cart = JSON.parse(localStorage.getItem("cart"));
            if (cart == null) {
                cart = [];
                cart.push({ id: id, name: ten, price: gia, image: hinh, quantity: 1 });
            }
            else {
                let item = cart.find(item => item.id == id);
                if (item) item.quantity++;
                else cart.push({ id: id, name: ten, price: gia, image: hinh, quantity: 1 });
            }
            localStorage.setItem("cart", JSON.stringify(cart));
        }
    </script>
    <!-- -hiển thị chi tiết sản phẩm tương ứng -->
    <script>
        let params = new URLSearchParams(location.search);
        let id = params.get("id");
        url = `https://thuongnthstudent.github.io/htnbookshop-fr-project/database-htnbookshop/khoahoc.json`;
        fetch(url).then(res => res.json())
            .then(khoahocs => {
                var motSP = khoahocs.find(khoahoc => khoahoc.id == id);
                document.querySelector('#chitietkh').innerHTML = `<div class="product-imgs">
                            <div class="img-display">
                                <div class="img-showcase">
                                    <img src="${motSP.image}">
                                    <img src="${motSP.image}">
                                    <img src="${motSP.image}">
                                </div>
                            </div>
                            <div class="img-select">
                                <div class="img-item">
                                    <a href="#" data-id="1">
                                        <img src="${motSP.image}">
                                    </a>
                                </div>
                                <div class="img-item">
                                    <a href="#" data-id="2">
                                        <img src="${motSP.image}">
                                    </a>
                                </div>
                                <div class="img-item">
                                    <a href="#" data-id="3">
                                        <img src="${motSP.image}">
                                    </a>
                                </div>
                            </div>
                        </div>
            <div class="product-content">
                            <h2 class="product-title">${motSP.name}</h2>
                            <p class="product-ID">Mã sản phẩm: 8936066687430</p>

                            <!--Đánh giá-->
            <div class="product-rating star">
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
            </div>

            <p class="product-category class">Thể loại: <strong>Văn học</strong></p>

            <!--giá-->
            <div class="product-price">
                <p style="color:orange">Giá:  <span>$${motSP.price}</span> </p>

            </div>

            <!--mô tả-->
            <div class="product-description">
                <p>
                    Những ngày mười tám đôi mươi ta đều mơ những giấc mơ lớn, đều khao khát đạp tung tất cả để bay ra khỏi vòng tay của gia đình, mẹ cha. <br />
                    Những ngày hăm lăm nhìn lại hình như giấc mơ đã tiêu hao đi ít nhiều… <br />
                    Ta chậm lại, bớt kì vọng hơn, cũng bớt nỗ lực hơn.<br />
                    ${motSP.detail}
                    <hr />
                </p>
                <hr />
            </div>
            <!--thêm vào giỏ hàng-->
            <div class="">
                <table class="purchase-info">
                    <tbody>
                        <tr>
                            <td class="pl-0">
                                <p class="product-ID">Số lượng:</p>
                                <div>
                                    <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                                            class="purchase-info btn">
                                        <i class="far fa-minus-square"></i>
                                    </button>
                                    <input style="width:50px; border-radius:3px; height:35px;align-content:end" min="1" name="quantity" value="1" type="number" disabled="disabled">
                                    <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                                            class="purchase-info btn">
                                        <i class="far fa-plus-square"></i>
                                    </button>

                                </div>
                            </td>
                        </tr>
                        <!--icon-->

                    </tbody>
                </table>
            </div>
            <a href="shoppingcart.html">
                <button class="btn" style="margin-right:15px;height:50px; color: white" onclick="addtoCart(${motSP.id},'${motSP.name}',${motSP.price},'${motSP.image}')" href="shoppingcart.html">
                    Mua ngay
                </button>
            </a>

            <a>
                <button class="purchase-info btn add" style="margin-block-end:20px; height:50px;" onclick="addtoCart(${motSP.id},'${motSP.name}',${motSP.price},'${motSP.image}')">
                    Thêm vào giỏ hàng
                    <i class="fas fa-shopping-cart"></i>

                </button>
            </a>
            <hr />
            <p style="font-size:1.8rem;color:black">Miễn phí vận chuyển cho đơn hàng giá trị trên 1.000.000 VNĐ</p>
            </div>`
            })

    </script>
</body>
</html>